<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="iOS高级工程师"><title>iOS 基于AVPLayer封装视频播放器 | 王孟发</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">iOS 基于AVPLayer封装视频播放器</h1><a id="logo" href="/.">王孟发</a><p class="description">跟着梦想去飞翔~   https://github.com/wmf00032</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about.html"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">iOS 基于AVPLayer封装视频播放器</h1><div class="post-meta">Jul 9, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/07/09/my-new-wmf/" href="/2016/07/09/my-new-wmf/#comments" class="ds-thread-count"></a><a data-disqus-identifier="2016/07/09/my-new-wmf/" href="/2016/07/09/my-new-wmf/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>最近的公司有个需求，需要做客户端播放远程视频。本来需求很简单，只要能播放、暂停、拖动进度就行啦。<br>原定技术方案使用系统自带的播放<code>controller</code>，结果经过调研发现系统播放器<code>controller</code> 有很多问题，原因如下：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">注意：apple 原来提供的播放类</div><div class="line"> 视频播放（播放基类）</div><div class="line"></div><div class="line"> <span class="number">1</span>&gt; <span class="built_in">AVPlayer</span></div><div class="line"> 能播放本地、远程的音频、视频文件</div><div class="line"> 基于Layer显示，得自己去编写控制面板</div><div class="line"> </div><div class="line"> <span class="number">2</span>&gt; <span class="built_in">MPMoviePlayerController</span> </div><div class="line"> 能播放本地、远程的音频、视频文件</div><div class="line"> 自带播放控制面板（暂停、播放、播放进度、是否要全屏）</div><div class="line">注意：关于<span class="built_in">MPMoviePlayerController</span> 我们看一下官方文档是这样说的：The <span class="built_in">MPMoviePlayerController</span> <span class="keyword">class</span> is formally deprecated <span class="keyword">in</span> iOS <span class="number">9</span></div><div class="line"> </div><div class="line"> <span class="number">3</span>&gt; <span class="built_in">AVPlayerViewController</span> </div><div class="line"> 能播放本地、远程的音频、视频文件</div><div class="line"> 内部是封装了<span class="built_in">MPMoviePlayerController</span></div><div class="line"> 播放界面默认就是全屏的</div><div class="line"> 如果播放功能比较简单，仅仅是简单地播放远程、本地的视频文件，建议用这个</div><div class="line"> </div><div class="line">注意：关于<span class="built_in">AVPlayerViewController</span> 我们看一下官方文档是这样说的：Available <span class="keyword">in</span> iOS <span class="number">8.0</span> and later</div></pre></td></tr></table></figure>
<p>完蛋了，梦想破灭了，本来想一劳永逸，结果：<br> <code>MPMoviePlayerController</code>  在iOS9以后被弃用，<br> <code>AVPlayerViewController</code> 只能用于iOS8以后。我们的版本必须要支持iOS7以后。</p>
<p>好吧那就自己动手封装一个播放器吧！</p>
<p>先看看基本的模块架构设计吧：</p>
<p><img src="https://github.com/wmf00032/imagesRecource/blob/master/652024-571a66aa77d5d350.png?raw=true" alt="基本设计图"></p>
<p><strong>OK！设计好了开始动手coder。</strong></p>
<p>先定义一个枚举：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>,<span class="built_in">AVPlayerPlayState</span>) &#123;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="built_in">AVPlayerPlayStatePreparing</span> = <span class="number">0x0</span>, <span class="comment">// 准备播放</span></div><div class="line">    <span class="built_in">AVPlayerPlayStateBeigin</span>,       <span class="comment">// 开始播放</span></div><div class="line">    <span class="built_in">AVPlayerPlayStatePlaying</span>,      <span class="comment">// 正在播放</span></div><div class="line">    <span class="built_in">AVPlayerPlayStatePause</span>,        <span class="comment">// 播放暂停</span></div><div class="line">    <span class="built_in">AVPlayerPlayStateEnd</span>,          <span class="comment">// 播放结束</span></div><div class="line">    <span class="built_in">AVPlayerPlayStateBufferEmpty</span>,  <span class="comment">// 没有缓存的数据供播放了</span></div><div class="line">    <span class="built_in">AVPlayerPlayStateBufferToKeepUp</span>,<span class="comment">//有缓存的数据可以供播放</span></div><div class="line">    </div><div class="line">    <span class="built_in">AVPlayerPlayStateNotPlay</span>,      <span class="comment">// 不能播放</span></div><div class="line">    <span class="built_in">AVPlayerPlayStateNotKnow</span>       <span class="comment">// 未知情况</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>改枚举指明了各种播放状态。</p>
<p><code>Manager</code> 的实现是这样的，看一下.h文件：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MFPlayerPlayVideoManager</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) <span class="keyword">id</span>&lt;PlayVideoDelegate&gt; delegate;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>, <span class="keyword">readonly</span>) <span class="built_in">BOOL</span> isPlaying;</div><div class="line"></div><div class="line">+ (<span class="keyword">instancetype</span>)sharedInstance;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)playVideoFromhUrl:(<span class="built_in">NSURL</span> *)url onView:(<span class="built_in">UIView</span> *)playView;</div><div class="line"></div><div class="line">- (<span class="built_in">CMTime</span>)playerCurrentDuration;</div><div class="line">- (<span class="built_in">CMTime</span>)playerItemDuration;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)updateMovieScrubberControl:(<span class="built_in">CGFloat</span>)time;</div><div class="line">- (<span class="keyword">void</span>)setVideoFillMode:(<span class="built_in">NSString</span> *)fillMode;</div><div class="line"></div><div class="line"><span class="comment">// 开始拖动</span></div><div class="line">- (<span class="keyword">void</span>)beiginSliderScrubbing;</div><div class="line"><span class="comment">// 结束拖动</span></div><div class="line">- (<span class="keyword">void</span>)endSliderScrubbing:(<span class="built_in">CGFloat</span>)tolerance;</div><div class="line"><span class="comment">// 拖动值发生改变</span></div><div class="line">- (<span class="keyword">void</span>)sliderScrubbing:(<span class="built_in">CGFloat</span>)time;</div><div class="line"></div><div class="line"><span class="comment">// 播放控制</span></div><div class="line">- (<span class="keyword">void</span>)play;</div><div class="line">- (<span class="keyword">void</span>)pause;</div><div class="line">- (<span class="keyword">void</span>)resum;</div><div class="line">- (<span class="keyword">void</span>)stop;</div><div class="line">- (<span class="keyword">void</span>)clear;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>是的，这个<code>Manager</code> 是最核心的内，定义的方法也很简单，不用说相信你也看得懂。</p>
<p>当<code>Manager</code> 的业务发生变化需要对外通知 <code>UIView</code> 的显示掉的时候，就调用这个代理：<br><code>@property (nonatomic, weak) id&lt;PlayVideoDelegate&gt; delegate;</code> </p>
<p>这样将业务逻辑和UI完全分开，<code>PlayVideoManager</code>  里面全是播放业务，<code>MFPlayerPlayVideoView</code>  里面全是UI显示相关联的。</p>
<p>当UI的改变需要控制业务的变化时，就调用<code>Manager</code>  对外暴露的方法：</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 开始拖动</span></div><div class="line">-<span class="ruby"> (void)beiginSliderScrubbing;</span></div><div class="line"><span class="comment">// 结束拖动</span></div><div class="line">-<span class="ruby"> (void)<span class="symbol">endSliderScrubbing:</span>(CGFloat)tolerance;</span></div><div class="line"><span class="comment">// 拖动值发生改变</span></div><div class="line">-<span class="ruby"> (void)<span class="symbol">sliderScrubbing:</span>(CGFloat)time;</span></div><div class="line"><span class="comment"></span></div><div class="line">// 播放控制</div><div class="line">-<span class="ruby"> (void)play;</span></div><div class="line">-<span class="ruby"> (void)pause;</span></div><div class="line">-<span class="ruby"> (void)resum;</span></div><div class="line">-<span class="ruby"> (void)stop;</span></div><div class="line">-<span class="ruby"> (void)clear;</span></div></pre></td></tr></table></figure>
<p>在<code>MFPlayerPlayVideoManager.h</code>   中有个比较蛋痛的东西，那就是是监听是否好友缓冲数据可以播放，理论上实现以下监听就可以啦：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">    [self.mPlayerItem  addObserver:self</div><div class="line"><span class="symbol">                        forKeyPath:</span>@<span class="string">"playbackBufferEmpty"</span></div><div class="line"><span class="symbol">                           options:</span>NSKeyValueObservingOptionNew</div><div class="line"><span class="symbol">                           context:</span>kPlaybackBufferEmptyObservationContext];</div><div class="line">    </div><div class="line">    [self.mPlayerItem  addObserver:self</div><div class="line"><span class="symbol">                        forKeyPath:</span>@<span class="string">"playbackLikelyToKeepUp"</span></div><div class="line"><span class="symbol">                           options:</span>NSKeyValueObservingOptionNew</div><div class="line"><span class="symbol">                           context:</span>kPlaybackLikelyToKeepUpObservationContext];</div></pre></td></tr></table></figure>
<p>这样当播放的缓冲数据没有的时候  <code>kPlaybackBufferEmptyObservationContext</code>  监听就会被回调，当网络OK又有缓冲数据的时候  <code>kPlaybackLikelyToKeepUpObservationContext</code>  监听就会被回调，能监听到这两个状态，我们就可以做一些自由发挥的操作了。比如没有冲昏的时候我们可以暂停，并给出用户友好提示，如果再次有缓存数据可以继续播放并界面做一些调整。</p>
<p><strong>很可惜，经过本人实验证明</strong>:<code>kPlaybackBufferEmptyObservationContext</code>、<code>kPlaybackBufferEmptyObservationContext</code>监听的调用时机相当的混乱，没有缓存时<code>kPlaybackBufferEmptyObservationContext</code>会被回调，用户手动点击暂停方法也会被回调。<code>kPlaybackBufferEmptyObservationContext</code>再次获得缓冲数据会被回调，用户点击开始播放也会被回调。还有一些情况也会被回调。如果大家感兴趣可以自己打断点跟踪一些他们的回调</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- <span class="params">(void)</span>observeValueForKeyPath:<span class="params">(NSString*)</span> path</div><div class="line">                      ofObject:<span class="params">(id)</span>object</div><div class="line">                        change:<span class="params">(NSDictionary*)</span>change</div><div class="line">                       context:<span class="params">(void*)</span>context</div></pre></td></tr></table></figure>
<p>所以，我在此将缓冲状态的监听放到了<code>rate</code> 里面：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">      <span class="comment">/* 监听 AVPlayer "rate" 属性 以便我们去更新播放进度控件. */</span></div><div class="line">        [<span class="keyword">self</span>.mPlayer addObserver:<span class="keyword">self</span></div><div class="line">                      forKeyPath:<span class="string">@"rate"</span></div><div class="line">                         options:<span class="built_in">NSKeyValueObservingOptionInitial</span> | <span class="built_in">NSKeyValueObservingOptionNew</span></div><div class="line">                         context:kRateObservationContext];</div></pre></td></tr></table></figure>
<p>在监听方法 <code>observeValueForKeyPath:ofObject:change:context:</code>实现四这样的：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (context == kRateObservationContext)&#123;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         *  暂停分两种：一个强制暂停（以就是点击了暂停按钮）</div><div class="line">         *  另一种就是网络不好加载卡住了暂停。</div><div class="line">         */</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">self</span>.mPlayer.rate == <span class="number">0</span>) &#123;</div><div class="line">            </div><div class="line">            <span class="comment">/* 缓存不够导致的暂停 */</span></div><div class="line">            <span class="keyword">if</span> (!_isForcusPause) &#123;</div><div class="line">                <span class="built_in">NSLog</span>(<span class="string">@"self.mPlayer.rate == 0 &amp;&amp; _isEmptyBuffer---AVPlayerPlayStatePreparing"</span>);</div><div class="line">                [<span class="keyword">self</span> updateCurrentPlayStatus:<span class="built_in">AVPlayerPlayStatePreparing</span>];</div><div class="line">                _isEmptyBufferPause = <span class="literal">YES</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">/* 正常情况下导致的暂停 */</span></div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                [<span class="keyword">self</span> updateCurrentPlayStatus:<span class="built_in">AVPlayerPlayStatePause</span>];</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         *  播放都一样</div><div class="line">         */</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">self</span>.mPlayer.rate == <span class="number">1</span>) &#123;</div><div class="line">            _isForcusPause = <span class="literal">NO</span>;</div><div class="line">            _isEmptyBufferPause = <span class="literal">NO</span>;</div><div class="line">            <span class="built_in">NSLog</span>(<span class="string">@"self.mPlayer.rate == 1----AVPlayerPlayStatePreparing"</span>);</div><div class="line">            [<span class="keyword">self</span> updateCurrentPlayStatus:<span class="built_in">AVPlayerPlayStateBeigin</span>];</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>注意：<code>self.mPlayer.rate == 0</code> 标示目前是暂停状态，<code>self.mPlayer.rate == 1</code> 标示目前是播放状态。不管是什么原因导致的暂停和播放，<code>kRateObservationContext</code>监听都会被调用。<code>isForcusPause == YES</code> 标示的是强制暂停，是用户行为导致的。否则就是网络问题导致的暂停。</p>
<p><strong>看看运行效果：</strong></p>
<p><img src="https://github.com/wmf00032/imagesRecource/blob/master/%E8%A6%96%E9%A0%BB%E6%92%AD%E7%99%BC2.png?raw=true" alt="Paste_Image.png"></p>
<p><strong>Github源码</strong>：<br><a href="https://github.com/wmf00032/Resource" target="_blank" rel="external">https://github.com/wmf00032/Resource</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/07/09/my-new-wmf/" data-id="cit06qsf60002afagd3flnu5w" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/07/12/afnetworking-know-what/" class="pre">AFNetWorking 深度理解</a></div><div data-thread-key="2016/07/09/my-new-wmf/" data-title="iOS 基于AVPLayer封装视频播放器" data-url="http://yoursite.com/2016/07/09/my-new-wmf/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/07/09/my-new-wmf/" data-title="iOS 基于AVPLayer封装视频播放器" data-url="http://yoursite.com/2016/07/09/my-new-wmf/" data-author-key="1" class="ds-thread"></div><div id="disqus_thread"><script>var disqus_shortname = 'wmf00032-github-io';
var disqus_identifier = '2016/07/09/my-new-wmf/';
var disqus_title = 'iOS 基于AVPLayer封装视频播放器';
var disqus_url = 'http://yoursite.com/2016/07/09/my-new-wmf/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//wmf00032-github-io.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://yoursite.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/12/dylib1/">dylib1</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/wechat-secret-4/">（非越狱版）iOS微信聊天加密插件 （四）终结篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/wechat-secret-3/">（非越狱版）iOS微信聊天加密插件 （三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/wechat-secret-2/">（非越狱版）iOS微信聊天加密插件 （二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/wechat-secret/">（非越狱版）iOS微信聊天加密插件 （一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/12/afnetworking-know-what/">AFNetWorking 深度理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/09/my-new-wmf/">iOS 基于AVPLayer封装视频播放器</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//wmf00032-github-io.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">王孟发.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'wmf00032'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>